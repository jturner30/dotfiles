au BufRead,BufNewFile Vagrantfile, Gemfile, Guardfile set filetype=ruby
au BufRead,BufNewFile Gemfile set filetype=ruby
au BufRead,BufNewFile Guardfile set filetype=ruby
au BufRead,BufNewFile .pryrc set filetype=ruby
au FileType ruby setl sw=2 sts=2 ts=2 tw=80 " Two spaces per tab

" Set .erb html files
au FileType ebury setl setl sw=2 sts=2 ts=2 " Two spaces per tab"

augroup Ruby
  autocmd!

  " Surround with a let block
  autocmd FileType ruby let @l = "bi:jjyss)IletjjA { "

  " Surround with a factory girl block
  autocmd FileType ruby let @f = "byiwi:jjyss)IletjjA { FactoryGirl.create(:jjpajj"

  " Parsing included ruby files is slooooow, so disable that
  autocmd FileType ruby set complete-=i
augroup END
